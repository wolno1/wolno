<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HopE</title>
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../IMG/icon.jpg">
    <!-- CSS files -->
    <link rel="stylesheet" href="ComicCSS.css">
    <!-- JS libraries -->
    <script src="https://kit.fontawesome.com/aba8b8b914.js" crossorigin="anonymous"></script>
</head>

<body>
    <script type ="module">
        // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-app.js";
      
      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyCCrqVgcHX27jwdGO_CWDilexxN-4q7Q9Q",
        authDomain: "wolno-ee25d.firebaseapp.com",
        databaseURL: "https://wolno-ee25d-default-rtdb.firebaseio.com",
        projectId: "wolno-ee25d",
        storageBucket: "wolno-ee25d.appspot.com",
        messagingSenderId: "394350721353",
        appId: "1:394350721353:web:210ca6a661671a6ba0c298",
        measurementId: "G-X8BW7ZFY6S"
      };
      
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      window.firebaseApp = app; // Make it available globally
    </script>

    <div id="mySidenav" class="sidenav"></div>
    <div class="sidebar-toggle">
        <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;</span>
    </div>

    <div class="topnav">
        <img src="../IMG/LOGO.png" alt="Logo" class="topnav">
        <div id="nav-links"></div>
    </div>
    <div class="select-container">
        <div class="select-group">
            <div class="select-label">Chapter:</div>
            <select id="chapterSelect">
                <option value="chapter1">1</option>
                <option value="chapter2">2</option>
                <!-- Agrega más capítulos aquí -->
                <option value="chapter3">3</option>
            </select>
        </div>
        <div class="select-group">
            <div class="select-label">Display:</div>
            <select id="readingModeSelect">
                <option value="onePage">Per chapter</option>
                <option value="allPages">All pages</option>
            </select>
        </div>
    </div>
    <div id="comicViewer"></div>

    <div class="w3-container w3-blue custom-style">
        <h3>If u wanna add a comment, DM me on <a href="https://discord.com/users/588900243031064595">Discord</a> pls, I don't have a DB yet so I can't make it automatic</h3>
    </div>

    <script src="Comics.js"></script>
    <script>
        // Definir los capítulos y sus páginas
        const comics = {
            chapter1: [
                'hope/1.png',
                // Añade más páginas en el orden deseado
            ],
            chapter2: [
                'hope/2-1.png',
                'hope/2-2.png',
                'hope/2-3.png',
                // Añade más páginas en el orden deseado
            ],
            chapter3: [
                'hope/3-1.png',
                'hope/3-2.png',
                'hope/3-3.png',
                // Añade más páginas en el orden deseado
            ],
        };

        // Function to resize images to 1000px wide
        function resizeImages(images) {
            images.forEach((src) => {
                const img = document.createElement('img');
                img.src = src;
                img.style.width = '1000px';
                document.getElementById('comicViewer').appendChild(img);
            });
        }

        // Load the selected chapter
        function loadChapter(chapter) {
            const comicViewer = document.getElementById('comicViewer');
            comicViewer.innerHTML = ''; // Clear previous content

            // Resize and display images only for chapter 2
            if (chapter === 'chapter2') {
                resizeImages(comics[chapter]);
            } else {
                comics[chapter].forEach((src) => {
                    const img = document.createElement('img');
                    img.src = src;
                    comicViewer.appendChild(img);
                });
            }
        }

        // Event listeners for chapter selection
        document.getElementById('chapterSelect').addEventListener('change', function () {
            loadChapter(this.value);
        });

        // Initial load of the first chapter
        loadChapter('chapter1');
    </script>
</body>
</html>
